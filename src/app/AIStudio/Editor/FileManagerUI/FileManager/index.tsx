//import { For } from "solid-js"
import { FileManagerContent, onFileDrop } from "./content"
import { IconContainer } from "../IconContainer"
import { loadAssets } from "./loader"

export interface FileData {
	id: string
	name: string
	extension: string
	dateCreated: Date
	// In KB
	size: number
	// In seconds
	duration?: number
	// if the file is currently being uploaded
	uploading?: boolean
	file?: File
}

export const FileManager = (props: { files: FileData[] }) => {
	loadAssets()
	let uploadInput!: HTMLInputElement

	return (
		<div class="rounded-xl bg-white max-h-[75vh] overflow-hidden hover:overflow-auto styled-scrollbar">
			<div class="flex justify-between">
				<p class="font-medium">File Manager</p>
				<div class="flex gap-4">
					<input
						class="hidden"
						type="file"
						ref={uploadInput}
						onChange={() => {
							const file = uploadInput.files[0]
							console.log(file)
							if (file) onFileDrop(file)
						}}
					/>
					<p
						class="font-medium color text-[#0095F8] cursor-pointer"
						onPointerDown={() => {
							uploadInput.click()
						}}
					>
						Upload
					</p>
					{/* <IconContainer>
						<svg
							width="14"
							height="12"
							viewBox="0 0 14 12"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								d="M0 1.2C0 0.88174 0.122917 0.576516 0.341709 0.351472C0.560501 0.126428 0.857247 0 1.16667 0H12.8333C13.1428 0 13.4395 0.126428 13.6583 0.351472C13.8771 0.576516 14 0.88174 14 1.2C14 1.51826 13.8771 1.82348 13.6583 2.04853C13.4395 2.27357 13.1428 2.4 12.8333 2.4H1.16667C0.857247 2.4 0.560501 2.27357 0.341709 2.04853C0.122917 1.82348 0 1.51826 0 1.2ZM2.33333 6C2.33333 5.68174 2.45625 5.37652 2.67504 5.15147C2.89383 4.92643 3.19058 4.8 3.5 4.8H10.5C10.8094 4.8 11.1062 4.92643 11.325 5.15147C11.5437 5.37652 11.6667 5.68174 11.6667 6C11.6667 6.31826 11.5437 6.62348 11.325 6.84853C11.1062 7.07357 10.8094 7.2 10.5 7.2H3.5C3.19058 7.2 2.89383 7.07357 2.67504 6.84853C2.45625 6.62348 2.33333 6.31826 2.33333 6ZM5.83333 9.6C5.52391 9.6 5.22717 9.72643 5.00838 9.95147C4.78958 10.1765 4.66667 10.4817 4.66667 10.8C4.66667 11.1183 4.78958 11.4235 5.00838 11.6485C5.22717 11.8736 5.52391 12 5.83333 12H8.16667C8.47609 12 8.77283 11.8736 8.99162 11.6485C9.21042 11.4235 9.33333 11.1183 9.33333 10.8C9.33333 10.4817 9.21042 10.1765 8.99162 9.95147C8.77283 9.72643 8.47609 9.6 8.16667 9.6H5.83333Z"
								fill="black"
								fill-opacity="0.8"
							/>
						</svg>
					</IconContainer>
					<IconContainer>
						<svg
							width="12"
							height="12"
							viewBox="0 0 12 12"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M8.59505 7.73908L11.8229 10.967C11.9363 11.0805 12.0001 11.2345 12 11.395C11.9999 11.5555 11.9361 11.7094 11.8226 11.8229C11.7091 11.9363 11.5551 12.0001 11.3946 12C11.2341 11.9999 11.0802 11.9361 10.9667 11.8226L7.73889 8.59466C6.77396 9.34205 5.56055 9.69376 4.34552 9.57825C3.13049 9.46274 2.00509 8.88867 1.19828 7.97284C0.391468 7.05701 -0.0361574 5.86821 0.00239768 4.64827C0.0409527 3.42834 0.542792 2.26891 1.40582 1.40586C2.26886 0.542805 3.42825 0.0409537 4.64816 0.00239774C5.86806 -0.0361583 7.05683 0.391478 7.97264 1.19831C8.88845 2.00514 9.4625 3.13056 9.57801 4.34563C9.69352 5.56069 9.34182 6.77413 8.59445 7.73908H8.59505ZM4.80022 8.39966C5.75496 8.39966 6.67059 8.02039 7.34569 7.34527C8.02079 6.67016 8.40005 5.7545 8.40005 4.79974C8.40005 3.84498 8.02079 2.92933 7.34569 2.25421C6.67059 1.5791 5.75496 1.19982 4.80022 1.19982C3.84549 1.19982 2.92986 1.5791 2.25476 2.25421C1.57966 2.92933 1.20039 3.84498 1.20039 4.79974C1.20039 5.7545 1.57966 6.67016 2.25476 7.34527C2.92986 8.02039 3.84549 8.39966 4.80022 8.39966Z"
								fill="black"
								fill-opacity="0.8"
							/>
						</svg>
					</IconContainer>
					<IconContainer>
						<svg
							width="14"
							height="3"
							viewBox="0 0 14 3"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								d="M1.61538 3C1.18696 3 0.776079 2.84196 0.473135 2.56066C0.170192 2.27936 0 1.89782 0 1.5C0 1.10218 0.170192 0.720644 0.473135 0.43934C0.776079 0.158035 1.18696 0 1.61538 0C2.04381 0 2.45469 0.158035 2.75763 0.43934C3.06058 0.720644 3.23077 1.10218 3.23077 1.5C3.23077 1.89782 3.06058 2.27936 2.75763 2.56066C2.45469 2.84196 2.04381 3 1.61538 3ZM7 3C6.57157 3 6.16069 2.84196 5.85775 2.56066C5.55481 2.27936 5.38462 1.89782 5.38462 1.5C5.38462 1.10218 5.55481 0.720644 5.85775 0.43934C6.16069 0.158035 6.57157 0 7 0C7.42843 0 7.83931 0.158035 8.14225 0.43934C8.44519 0.720644 8.61539 1.10218 8.61539 1.5C8.61539 1.89782 8.44519 2.27936 8.14225 2.56066C7.83931 2.84196 7.42843 3 7 3ZM12.3846 3C11.9562 3 11.5453 2.84196 11.2424 2.56066C10.9394 2.27936 10.7692 1.89782 10.7692 1.5C10.7692 1.10218 10.9394 0.720644 11.2424 0.43934C11.5453 0.158035 11.9562 0 12.3846 0C12.813 0 13.2239 0.158035 13.5269 0.43934C13.8298 0.720644 14 1.10218 14 1.5C14 1.89782 13.8298 2.27936 13.5269 2.56066C13.2239 2.84196 12.813 3 12.3846 3Z"
								fill="black"
								fill-opacity="0.8"
							/>
						</svg>
					</IconContainer> */}
				</div>
			</div>
			<div class="pt-4">
				<FileManagerContent files={props.files} />
			</div>
		</div>
	)
}
